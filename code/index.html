<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DMarkdown</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  <!-- Create a simple CodeMirror instance -->
  <link rel="stylesheet" href="plugins/codemirror/lib/codemirror.css">
  <link rel="stylesheet" href="plugins/codemirror/theme/icecoder.css">
  <link rel="stylesheet" href="plugins/codemirror/addon/scroll/simplescrollbars.css">
  <script type="text/javascript" src="plugins/codemirror/lib/codemirror.js"></script>
  <script type="text/javascript" src="plugins/codemirror/mode/markdown/markdown.js"></script>
  <script type="text/javascript" src="plugins/codemirror/addon/scroll/simplescrollbars.js"></script>

  <!-- User defined stylesheets.. -->
  <!-- General styles for the whole site.. -->
  <link rel="stylesheet" href="css/general.css">
  <!-- Style for the navbar.. -->
  <link rel="stylesheet" href="css/navbar.css">
  <!-- Style for the editor.. -->
  <link rel="stylesheet" href="css/editor.css">
  <!-- Style for the preview area.. -->
  <link rel="stylesheet" href="css/preview.css">
  <!-- Style for the footer.. -->
  <link rel="stylesheet" href="css/footer.css">

</head>

<body>

  <div id="navbar">
    <div id="navbarleft">
      <span class="title">markdown</span>
    </div>
    <div id="navbarright">
      <span class="title" id="previewSpan"></span>
    </div>
  </div>
  <!-- This div  contains the editor. The user can input his Markdown here. -->
  <div class="editor">
    <!-- THe Textarea contains the written Markdown -->
    <textarea id="codeeditor"></textarea>
  </div>
  <!-- This div contains the preview of the written Markdown -->
  <div class="preview">
    <!-- Preview-Area -->
    <div id="previewField"></div>
  </div>
  <!-- This div shows the active cursor-row and the current cursor-column.. -->
  <div class="footer">
    <span id="rowSpan"></span> <span id="cursorRow">1</span>, <span id="colSpan"></span> <span id="cursorCol">1</span> UTF-8
  </div>
  <!-- All editor functions goes here.. -->
  <script src="js/editor.js"></script>
  <script>
    const inter = require("./js/Internationalizer");
    const fs = require("fs");
    const { ipcRenderer } = require('electron')
    var markdown = require("markdown").markdown;
    var DInternationalizer = new inter.Internationalizer(navigator.language, "en", fs.readFileSync("assets/Internationalizer.json"));
    document.title = "DMarkdown - " + DInternationalizer.print("untitled_label");
    var previewField = document.getElementById("previewField");
    var previewSpan = document.getElementById("previewSpan");
    var rowSpan = document.getElementById("rowSpan");
    var colSpan = document.getElementById("colSpan");
    var cursorRow = document.getElementById("cursorRow");
    var cursorCol = document.getElementById("cursorCol");

    previewSpan.innerHTML = DInternationalizer.print("preview_label");
    rowSpan.innerHTML = DInternationalizer.print("row_label");
    colSpan.innerHTML = DInternationalizer.print("col_label");

    var DEditor = new Editor(document.getElementById("codeeditor"));
    DEditor.editorEvents(previewField, cursorRow, cursorCol);
    DEditor.editorExternCommunication(previewField);
  </script>
</body>

</html>